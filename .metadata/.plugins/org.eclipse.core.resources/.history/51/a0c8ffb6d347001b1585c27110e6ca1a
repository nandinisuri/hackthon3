package com.qa.testcases;

import java.io.IOException;
import java.util.List;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;

import com.qaTestBase.TestBASE;

public class Admin extends TestBASE{

	public Admin() throws IOException {
		super();
		
	}
	
	@BeforeMethod
	@Parameters("browser")

	public void Start_initialization(String browser) throws IOException {
		
		//
		OpenBrowser(browser);
		//
		GetURL(config.getProperty("AdminURL"));
		
		
		}
		
	@Test
	public void table() throws Exception {
		
		Sendkeys(driver, org.getProperty("admin_un"), config.getProperty("Admin_un"));
		Sendkeys(driver, org.getProperty("admin_pw"), config.getProperty("Admin_pw"));
		Click(driver, org.getProperty("admin_btn"));
		
		
		Click(driver, org.getProperty("product_list"));
		 
		List<WebElement> table = driver.findElements(By.xpath("//table[@id='product_list']/tbody/tr"));
		int table_size = table.size();
		System.out.println(table_size);
		for(int i=1;i<=table_size;i++) {
			
			  driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);

			WebElement tablerow = driver.findElement(By.xpath("//*[@id=\"product_list\"]/tbody/tr[\"+i+\"]/td[3]"));
			String product_name= tablerow.getText();
			System.out.println("The Product Name is :"+product_name);
			
		
			WebElement tablerow1 = driver.findElement(By.xpath("//*[@id=\"product_list\"]/tbody/tr[\"+i+\"]/td[4]"));
			String product_type= tablerow1.getText();
			System.out.println("The Product Type is :"+product_type);
		}
		
	}
	

}
